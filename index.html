<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fund Distribution Data</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
        }
        h1 {
            color: #333;
        }
        .status {
            margin-top: 20px;
            padding: 10px;
            background-color: #f0f0f0;
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <h1>Fund Distribution Data</h1>
    <div class="status" id="status">Loading data...</div>

    <!-- Load the distribution processing script -->
    <script src="process-distributions.js"></script>
    
    <script>
        // Wait for the DOM to be fully loaded
        document.addEventListener('DOMContentLoaded', function() {
            const statusDiv = document.getElementById('status');
            statusDiv.innerHTML = 'Processing distribution data...';
            
            try {
                // Set start date to December 31, 2024
                const startDate = new Date('2024-12-31');
                const tickers = ['ANCFX', 'AGTHX', 'AFAXX'];
                
                // Process each ticker
                for (const ticker of tickers) {
                    console.log(`${ticker}:`);
                    
                    // Get the distribution data
                    const result = getDistributionData(ticker, startDate);
                    
                    // Print the exact structure to console
                    console.log(result);
                }
                
                statusDiv.innerHTML = 'Processing complete. Check console for results.';
            } catch (error) {
                console.error('Error processing fund data:', error);
                statusDiv.innerHTML = `Error: ${error.message}`;
            }
        });
    </script>
</body>
</html>
